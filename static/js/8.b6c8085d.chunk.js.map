{"version":3,"sources":["components/Rumors.jsx","constants.js","components/Footer.jsx"],"names":["Rumors","useState","rumors","setRumors","page","num","pageParams","setPageParams","rumorsType","setRumorsType","isShowAlert","setShowAlert","useEffect","finalParams","Object","assign","rumorType","axios","get","RUMORS_DATA_URL","params","then","response","status","data","results","getRumors","window","scrollTo","handlePrevious","useCallback","handleNext","className","row","name","value","onChange","e","target","disabled","length","control","label","map","everyNews","index","key","title","style","animationDelay","body","variant","color","onClick","autoHideDuration","anchorOrigin","vertical","horizontal","open","onClose","severity","NEWS_DATA_URL","Footer","href","rel"],"mappings":"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","file":"static/js/8.b6c8085d.chunk.js","sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport axios from 'axios';\nimport { Button } from '@material-ui/core';\nimport Radio from '@material-ui/core/Radio';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport Alert from '@material-ui/lab/Alert';\nimport { RUMORS_DATA_URL } from '../constants';\nimport Footer from './Footer';\n\n/**\n * 谣言页\n */\nfunction Rumors() {\n  const [rumors, setRumors] = useState([]);\n  const [pageParams, setPageParams] = useState({ page: 1, num: 10 });\n  const [rumorsType, setRumorsType] = useState('0');\n  const [isShowAlert, setShowAlert] = useState(false);\n\n  const getRumors = () => {\n    const finalParams = Object.assign(pageParams, { rumorType: rumorsType });\n    axios.get(RUMORS_DATA_URL, { params: finalParams }).then((response) => {\n      if (response.status === 200) {\n        setRumors(response.data.results);\n      } else {\n        setShowAlert(true);\n      }\n    });\n  };\n\n  const handleRumorsTypeChange = (e) => {\n    setPageParams({ page: 1, num: 10 });\n    setRumorsType(e.target.value);\n  };\n\n  useEffect(() => {\n    getRumors();\n  }, [pageParams.page, rumorsType]);\n\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, [pageParams.page, rumorsType]);\n\n  const handlePrevious = useCallback(() => {\n    setPageParams({ page: pageParams.page - 1, num: 10 });\n  }, [pageParams.page]);\n\n  const handleNext = useCallback(() => {\n    setPageParams({ page: pageParams.page + 1, num: 10 });\n  }, [pageParams.page]);\n\n  const handleCloseAlert = () => {\n    setShowAlert(false);\n  };\n\n  return (\n    <>\n      <div className=\"RumorsSearch\">\n        <RadioGroup\n          className=\"RumorsRadio\"\n          row\n          name=\"rumorsType\"\n          value={rumorsType}\n          onChange={handleRumorsTypeChange}>\n          <FormControlLabel\n            value=\"0\"\n            disabled={rumors.length === 0}\n            control={<Radio />}\n            label=\"谣言\"\n          />\n          <FormControlLabel\n            value=\"1\"\n            disabled={rumors.length === 0}\n            control={<Radio />}\n            label=\"可信信息\"\n          />\n          <FormControlLabel\n            value=\"2\"\n            disabled={rumors.length === 0}\n            control={<Radio />}\n            label=\"尚未证实信息\"\n          />\n        </RadioGroup>\n      </div>\n      <div className=\"News\">\n        {rumors.map((everyNews, index) => (\n          <div\n            key={everyNews.title}\n            className=\"faq fadeInUp\"\n            style={{ animationDelay: `${0.5 + index * 0.1}s` }}>\n            <h2 className=\"question\">{everyNews.title}</h2>\n            <h2 className=\"answer\">{everyNews.body}</h2>\n          </div>\n        ))}\n      </div>\n      {rumors.length > 0 && (\n        <div className=\"Pagination\">\n          <div\n            className=\"paginationButton faq fadeInUp\"\n            style={{ animationDelay: `${0.5 + (pageParams.num + 1) * 0.1}s` }}>\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              disabled={pageParams.page === 1}\n              onClick={handlePrevious}>\n              上一页\n            </Button>\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              disabled={rumors.length < 10}\n              onClick={handleNext}>\n              下一页\n            </Button>\n          </div>\n        </div>\n      )}\n      <Footer />\n      <Snackbar\n        autoHideDuration={5000}\n        anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\n        open={isShowAlert}\n        onClose={handleCloseAlert}\n        key=\"top center\">\n        <Alert severity=\"error\" variant=\"filled\">\n          服务器异常，请稍后重试！\n        </Alert>\n      </Snackbar>\n    </>\n  );\n}\n\nexport default Rumors;\n","// 与疫情有关的新闻信息\nexport const NEWS_DATA_URL = 'https://lab.isaaclin.cn/nCoV/api/news';\n// 与疫情有关的谣言以及丁香园的辟谣\nexport const RUMORS_DATA_URL = 'https://lab.isaaclin.cn/nCoV/api/rumors';\n","import React from 'react';\nimport { GitHub } from 'react-feather';\n\nfunction Footer() {\n  return (\n    <footer>\n      <div className=\"link\">\n        <a href=\"https://github.com/Covid19-China\" target=\"_blank\" rel=\"noopener noreferrer\">\n          covid19china\n        </a>\n      </div>\n\n      <h4>中国 加油！</h4>\n\n      <div className=\"links\">\n        <a\n          href=\"https://github.com/Covid19-China\"\n          className=\"github\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\">\n          <GitHub />\n        </a>\n      </div>\n    </footer>\n  );\n}\n\nexport default Footer;\n"],"sourceRoot":""}
{"version":3,"sources":["components/News.jsx","constants.js","components/Footer.jsx"],"names":["News","useState","news","setNews","page","num","params","setParams","isShowAlert","setShowAlert","useEffect","axios","get","NEWS_DATA_URL","then","response","status","data","results","window","scrollTo","handlePrevious","useCallback","handleNext","className","map","everyNews","index","key","pubDate","style","animationDelay","href","sourceUrl","target","rel","title","summary","length","variant","color","disabled","onClick","autoHideDuration","anchorOrigin","vertical","horizontal","open","onClose","severity","RUMORS_DATA_URL","Footer"],"mappings":"6MA6FeA,UArFf,WAAiB,IAAD,EACUC,mBAAS,IADnB,mBACPC,EADO,KACDC,EADC,OAEcF,mBAAS,CAAEG,KAAM,EAAGC,IAAK,KAFvC,mBAEPC,EAFO,KAECC,EAFD,OAGsBN,oBAAS,GAH/B,mBAGPO,EAHO,KAGMC,EAHN,KAedC,qBAAU,WATRC,IAAMC,IAAIC,IAAe,CAAEP,WAAUQ,MAAK,SAACC,GACjB,MAApBA,EAASC,OACXb,EAAQY,EAASE,KAAKC,SAEtBT,GAAa,QAOhB,CAACH,EAAOF,OAEXM,qBAAU,WACRS,OAAOC,SAAS,EAAG,KAClB,CAACd,EAAOF,OAEX,IAAMiB,EAAiBC,uBAAY,WACjCf,EAAU,CAAEH,KAAME,EAAOF,KAAO,EAAGC,IAAK,OACvC,CAACC,EAAOF,OAELmB,EAAaD,uBAAY,WAC7Bf,EAAU,CAAEH,KAAME,EAAOF,KAAO,EAAGC,IAAK,OACvC,CAACC,EAAOF,OAMX,OACE,oCACE,yBAAKoB,UAAU,QACZtB,EAAKuB,KAAI,SAACC,EAAWC,GAAZ,OACR,yBACEC,IAAKF,EAAUG,QACfL,UAAU,eACVM,MAAO,CAAEC,eAAe,GAAD,OAAK,GAAc,GAARJ,EAAX,OACvB,wBAAIH,UAAU,YACZ,uBAAGQ,KAAMN,EAAUO,UAAWC,OAAO,SAASC,IAAI,uBAC/CT,EAAUU,QAGf,wBAAIZ,UAAU,UAAUE,EAAUW,cAIvCnC,EAAKoC,OAAS,GACb,yBAAKd,UAAU,cACb,yBACEA,UAAU,gCACVM,MAAO,CAAEC,eAAe,GAAD,OAAK,GAAyB,IAAlBzB,EAAOD,IAAM,GAAzB,OACvB,kBAAC,IAAD,CACEkC,QAAQ,YACRC,MAAM,UACNC,SAA0B,IAAhBnC,EAAOF,KACjBsC,QAASrB,GAJX,sBAOA,kBAAC,IAAD,CAAQkB,QAAQ,YAAYC,MAAM,UAAUE,QAASnB,GAArD,wBAMN,kBAAC,IAAD,MACA,kBAAC,IAAD,CACEoB,iBAAkB,IAClBC,aAAc,CAAEC,SAAU,MAAOC,WAAY,UAC7CC,KAAMvC,EACNwC,QA5CmB,WACvBvC,GAAa,IA4CTmB,IAAI,cACJ,kBAAC,IAAD,CAAOqB,SAAS,QAAQV,QAAQ,UAAhC,gF,gCCrFR,oEACO,IAAM1B,EAAgB,wCAEhBqC,EAAkB,2C,gCCH/B,6BA2BeC,IAxBf,WACE,OACE,gCACE,yBAAK3B,UAAU,QACb,uBAAGQ,KAAK,mCAAmCE,OAAO,SAASC,IAAI,uBAA/D,iBAKF,+DAEA,yBAAKX,UAAU,SACb,uBACEQ,KAAK,mCACLR,UAAU,SACVU,OAAO,SACPC,IAAI,uBACJ,kBAAC,IAAD","file":"static/js/7.6caa9a52.chunk.js","sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { Button } from '@material-ui/core';\nimport axios from 'axios';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport Alert from '@material-ui/lab/Alert';\nimport { NEWS_DATA_URL } from '../constants';\nimport Footer from './Footer';\n\nfunction News() {\n  const [news, setNews] = useState([]);\n  const [params, setParams] = useState({ page: 1, num: 10 });\n  const [isShowAlert, setShowAlert] = useState(false);\n\n  const getNews = () => {\n    axios.get(NEWS_DATA_URL, { params }).then((response) => {\n      if (response.status === 200) {\n        setNews(response.data.results);\n      } else {\n        setShowAlert(true);\n      }\n    });\n  };\n\n  useEffect(() => {\n    getNews();\n  }, [params.page]);\n\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, [params.page]);\n\n  const handlePrevious = useCallback(() => {\n    setParams({ page: params.page - 1, num: 10 });\n  }, [params.page]);\n\n  const handleNext = useCallback(() => {\n    setParams({ page: params.page + 1, num: 10 });\n  }, [params.page]);\n\n  const handleCloseAlert = () => {\n    setShowAlert(false);\n  };\n\n  return (\n    <>\n      <div className=\"News\">\n        {news.map((everyNews, index) => (\n          <div\n            key={everyNews.pubDate}\n            className=\"faq fadeInUp\"\n            style={{ animationDelay: `${0.5 + index * 0.1}s` }}>\n            <h2 className=\"question\">\n              <a href={everyNews.sourceUrl} target=\"_blank\" rel=\"noopener noreferrer\">\n                {everyNews.title}\n              </a>\n            </h2>\n            <h2 className=\"answer\">{everyNews.summary}</h2>\n          </div>\n        ))}\n      </div>\n      {news.length > 0 && (\n        <div className=\"Pagination\">\n          <div\n            className=\"paginationButton faq fadeInUp\"\n            style={{ animationDelay: `${0.5 + (params.num + 1) * 0.1}s` }}>\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              disabled={params.page === 1}\n              onClick={handlePrevious}>\n              上一页\n            </Button>\n            <Button variant=\"contained\" color=\"primary\" onClick={handleNext}>\n              下一页\n            </Button>\n          </div>\n        </div>\n      )}\n      <Footer />\n      <Snackbar\n        autoHideDuration={5000}\n        anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\n        open={isShowAlert}\n        onClose={handleCloseAlert}\n        key=\"top center\">\n        <Alert severity=\"error\" variant=\"filled\">\n          服务器异常，请稍后重试！\n        </Alert>\n      </Snackbar>\n    </>\n  );\n}\n\nexport default News;\n","// 与疫情有关的新闻信息\nexport const NEWS_DATA_URL = 'https://lab.isaaclin.cn/nCoV/api/news';\n// 与疫情有关的谣言以及丁香园的辟谣\nexport const RUMORS_DATA_URL = 'https://lab.isaaclin.cn/nCoV/api/rumors';\n","import React from 'react';\nimport { GitHub } from 'react-feather';\n\nfunction Footer() {\n  return (\n    <footer>\n      <div className=\"link\">\n        <a href=\"https://github.com/Covid19-China\" target=\"_blank\" rel=\"noopener noreferrer\">\n          covid19china\n        </a>\n      </div>\n\n      <h4>中国 加油！</h4>\n\n      <div className=\"links\">\n        <a\n          href=\"https://github.com/Covid19-China\"\n          className=\"github\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\">\n          <GitHub />\n        </a>\n      </div>\n    </footer>\n  );\n}\n\nexport default Footer;\n"],"sourceRoot":""}